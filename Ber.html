<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Task Nexus Pro</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        :root {
            --quantum-dark: #121212;
            --quantum-card: #1E1E1E;
            --quantum-text: #E0E0E0;
            --quantum-primary: #3498db;
            --quantum-success: #2ecc71;
            --quantum-danger: #e74c3c;
        }

        body {
            background: linear-gradient(135deg, var(--quantum-dark) 0%, #0a0a0a 100%);
            color: var(--quantum-text);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }

        .quantum-container {
            background: rgba(30, 30, 30, 0.9);
            border-radius: 15px;
            backdrop-filter: blur(15px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            padding: 30px;
            margin-top: 50px;
        }

        .task-item {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 10px;
            margin-bottom: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .task-item:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .priority-badge {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .priority-low { background-color: #3498db; }
        .priority-medium { background-color: #f39c12; }
        .priority-high { background-color: #e74c3c; }

        .task-list {
            max-height: 500px;
            overflow-y: auto;
        }

        .task-timer {
            background: rgba(50, 50, 50, 0.8);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .pomodoro-btn {
            margin: 0 5px;
        }

        .modal-dark {
            background: var(--quantum-card);
            color: var(--quantum-text);
        }

        .tag-input {
            background: rgba(60, 60, 60, 0.7);
            border: none;
            color: var(--quantum-text);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="quantum-container">
            <h2 class="text-center mb-4 animate__animated animate__fadeIn">
                <i class="fas fa-brain me-2"></i>Quantum Task Nexus Pro
            </h2>

            <!-- Pomodoro Timer -->
            <div class="task-timer mb-4">
                <h4 id="timerDisplay">25:00</h4>
                <div class="d-flex justify-content-center">
                    <button id="startTimer" class="btn btn-success pomodoro-btn">
                        <i class="fas fa-play"></i> Start
                    </button>
                    <button id="pauseTimer" class="btn btn-warning pomodoro-btn">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button id="resetTimer" class="btn btn-danger pomodoro-btn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>

            <!-- Task Input -->
            <div class="input-group mb-3">
                <input 
                    type="text" 
                    id="taskInput" 
                    class="form-control" 
                    placeholder="Enter a new mission..." 
                    maxlength="150"
                >
                <select id="prioritySelect" class="form-select" style="max-width: 150px;">
                    <option value="low">Low Priority</option>
                    <option value="medium">Medium Priority</option>
                    <option value="high">High Priority</option>
                </select>
                <button 
                    id="addTaskBtn" 
                    class="btn btn-primary" 
                    type="button"
                >
                    <i class="fas fa-plus"></i>
                </button>
            </div>

            <!-- Advanced Filtering -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-light active" data-filter="all">
                            All Missions
                        </button>
                        <button type="button" class="btn btn-outline-light" data-filter="active">
                            Active
                        </button>
                        <button type="button" class="btn btn-outline-light" data-filter="completed">
                            Completed
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="form-control" 
                        placeholder="ðŸ” Search missions..."
                    >
                </div>
            </div>

            <!-- Task List -->
            <div id="taskList" class="task-list"></div>

            <!-- Task Stats -->
            <div class="task-stats mt-3 d-flex justify-content-between">
                <span id="totalTasks" class="text-light">
                    <i class="fas fa-clipboard-list me-1"></i>0 Missions
                </span>
                <span id="completedTasks" class="text-light">
                    <i class="fas fa-check-double me-1"></i>0 Accomplished
                </span>
            </div>
        </div>
    </div>

    <!-- Task Details Modal -->
    <div class="modal fade" id="taskDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-dark">
                <div class="modal-header">
                    <h5 class="modal-title">Task Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="taskDetailsContent">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        class QuantumTaskNexus {
            constructor() {
                this.tasks = [];
                this.pomodoroTimer = {
                    duration: 25 * 60, // 25 minutes
                    remaining: 25 * 60,
                    isRunning: false,
                    interval: null
                };
                this.initializeEventListeners();
                this.loadTasks();
                this.initializePomodoroTimer();
            }

            initializePomodoroTimer() {
                const timerDisplay = document.getElementById('timerDisplay');
                const startBtn = document.getElementById('startTimer');
                const pauseBtn = document.getElementById('pauseTimer');
                const resetBtn = document.getElementById('resetTimer');

                startBtn.addEventListener('click', () => this.startPomodoroTimer());
                pauseBtn.addEventListener('click', () => this.pausePomodoroTimer());
                resetBtn.addEventListener('click', () => this.resetPomodoroTimer());

                this.updateTimerDisplay();
            }

            startPomodoroTimer() {
                if (!this.pomodoroTimer.isRunning) {
                    this.pomodoroTimer.isRunning = true;
                    this.pomodoroTimer.interval = setInterval(() => {
                        this.pomodoroTimer.remaining--;
                        this.updateTimerDisplay();

                        if (this.pomodoroTimer.remaining <= 0) {
                            this.resetPomodoroTimer();
                            this.showNotification('Pomodoro Complete!', 'Time for a break!');
                        }
                    }, 1000);
                }
            }

            pausePomodoroTimer() {
                if (this.pomodoroTimer.isRunning) {
                    clearInterval(this.pomodoroTimer.interval);
                    this.pomodoroTimer.isRunning = false;
                }
            }

            resetPomodoroTimer() {
                clearInterval(this.pomodoroTimer.interval);
                this.pomodoroTimer.remaining = this.pomodoroTimer.duration;
                this.pomodoroTimer.isRunning = false;
                this.updateTimerDisplay();
            }

            updateTimerDisplay() {
                const timerDisplay = document.getElementById('timerDisplay');
                const minutes = Math.floor(this.pomodoroTimer.remaining / 60);
                const seconds = this.pomodoroTimer.remaining % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            showNotification(title, body) {
                if ('Notification' in window) {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            new Notification(title, { body });
                        }
                    });
                }
            }

            // Rest of the existing methods...
            // (Include all previous methods from the previous implementation)
        }

        // Create global instance
        const quantumTaskNexus = new QuantumTaskNexus();
    </script>
</body>
</html>
